<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>iperf å®½å¸¦æ€§èƒ½æµ‹è¯•å·¥å…· | è·¨å‡ºç•Œ</title>
<meta name=keywords content="linux">
<meta name=description content="è¿œç¨‹ä¸»æœºï¼ˆæœåŠ¡ç«¯ï¼‰ï¼šUbuntu 18.04
æœ¬åœ°ä¸»æœºï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼šMacï¼ˆå®‰è£…äº† HomeBrewï¼‰
åŸå› ï¼šå› ä¸ºæˆ‘ä»¬çš„æœ¬åœ°æœºå™¨ä¸èƒ½è¢«å¤–ç½‘æœºå™¨è®¿é—®ï¼Œæ‰€ä»¥æœåŠ¡ç«¯åªèƒ½ç”±å¤–ç½‘æœºå™¨æ‰¿æ‹…ï¼Œä¸å½±å“æ€§èƒ½æµ‹è¯•ç»“æœã€‚
å®‰è£…
å®é™…ä¸Šå®‰è£…éå¸¸ç®€å•ï¼Œåªéœ€è¦é…ç½®å¥½ç¯å¢ƒå°±è¡Œã€‚
Ubuntu å®‰è£…ï¼š
$ sudo apt install iperf3
Mac å®‰è£…ï¼š
$ brew install iperf3
è¿™æ ·å°±å¥½äº†ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åªéœ€è¦é…ç½®ä¸åŒçš„å‚æ•°å°±è¡Œã€‚
ä½¿ç”¨
æœåŠ¡ç«¯ï¼š
$ iperf3 -s -i 2
å®¢æˆ·ç«¯
$ iperf3 -c 192.xxx.xxx.xxx -i 2
å¦‚æœè¦æµ‹è¯•ä¸Šä¼ é€Ÿåº¦ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯åœ¨æ‰§è¡Œçš„æ—¶å€™å¢åŠ  -R å°±å¯ä»¥ï¼Œå¦‚ï¼š
$ iperf3 -c 192.xxx.xxx.xxx -i 2 -R
">
<meta name=author content>
<link rel=canonical href=https://fun2ex.com/posts/iperf/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.be665b8c60300019b726f04957b895cb023e3957c11488b1b165f917de5cda62.css integrity="sha256-vmZbjGAwABm3JvBJV7iVywI+OVfBFIixsWX5F95c2mI=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://fun2ex.com/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://fun2ex.com/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://fun2ex.com/favicon-32x32.png>
<link rel=apple-touch-icon href=https://fun2ex.com/apple-touch-icon.png>
<link rel=mask-icon href=https://fun2ex.com/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="iperf å®½å¸¦æ€§èƒ½æµ‹è¯•å·¥å…·">
<meta property="og:description" content="è¿œç¨‹ä¸»æœºï¼ˆæœåŠ¡ç«¯ï¼‰ï¼šUbuntu 18.04
æœ¬åœ°ä¸»æœºï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼šMacï¼ˆå®‰è£…äº† HomeBrewï¼‰
åŸå› ï¼šå› ä¸ºæˆ‘ä»¬çš„æœ¬åœ°æœºå™¨ä¸èƒ½è¢«å¤–ç½‘æœºå™¨è®¿é—®ï¼Œæ‰€ä»¥æœåŠ¡ç«¯åªèƒ½ç”±å¤–ç½‘æœºå™¨æ‰¿æ‹…ï¼Œä¸å½±å“æ€§èƒ½æµ‹è¯•ç»“æœã€‚
å®‰è£…
å®é™…ä¸Šå®‰è£…éå¸¸ç®€å•ï¼Œåªéœ€è¦é…ç½®å¥½ç¯å¢ƒå°±è¡Œã€‚
Ubuntu å®‰è£…ï¼š
$ sudo apt install iperf3
Mac å®‰è£…ï¼š
$ brew install iperf3
è¿™æ ·å°±å¥½äº†ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åªéœ€è¦é…ç½®ä¸åŒçš„å‚æ•°å°±è¡Œã€‚
ä½¿ç”¨
æœåŠ¡ç«¯ï¼š
$ iperf3 -s -i 2
å®¢æˆ·ç«¯
$ iperf3 -c 192.xxx.xxx.xxx -i 2
å¦‚æœè¦æµ‹è¯•ä¸Šä¼ é€Ÿåº¦ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯åœ¨æ‰§è¡Œçš„æ—¶å€™å¢åŠ  -R å°±å¯ä»¥ï¼Œå¦‚ï¼š
$ iperf3 -c 192.xxx.xxx.xxx -i 2 -R
">
<meta property="og:type" content="article">
<meta property="og:url" content="https://fun2ex.com/posts/iperf/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2019-01-06T18:09:38+08:00">
<meta property="article:modified_time" content="2019-01-06T18:09:38+08:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="iperf å®½å¸¦æ€§èƒ½æµ‹è¯•å·¥å…·">
<meta name=twitter:description content="è¿œç¨‹ä¸»æœºï¼ˆæœåŠ¡ç«¯ï¼‰ï¼šUbuntu 18.04
æœ¬åœ°ä¸»æœºï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼šMacï¼ˆå®‰è£…äº† HomeBrewï¼‰
åŸå› ï¼šå› ä¸ºæˆ‘ä»¬çš„æœ¬åœ°æœºå™¨ä¸èƒ½è¢«å¤–ç½‘æœºå™¨è®¿é—®ï¼Œæ‰€ä»¥æœåŠ¡ç«¯åªèƒ½ç”±å¤–ç½‘æœºå™¨æ‰¿æ‹…ï¼Œä¸å½±å“æ€§èƒ½æµ‹è¯•ç»“æœã€‚
å®‰è£…
å®é™…ä¸Šå®‰è£…éå¸¸ç®€å•ï¼Œåªéœ€è¦é…ç½®å¥½ç¯å¢ƒå°±è¡Œã€‚
Ubuntu å®‰è£…ï¼š
$ sudo apt install iperf3
Mac å®‰è£…ï¼š
$ brew install iperf3
è¿™æ ·å°±å¥½äº†ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åªéœ€è¦é…ç½®ä¸åŒçš„å‚æ•°å°±è¡Œã€‚
ä½¿ç”¨
æœåŠ¡ç«¯ï¼š
$ iperf3 -s -i 2
å®¢æˆ·ç«¯
$ iperf3 -c 192.xxx.xxx.xxx -i 2
å¦‚æœè¦æµ‹è¯•ä¸Šä¼ é€Ÿåº¦ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯åœ¨æ‰§è¡Œçš„æ—¶å€™å¢åŠ  -R å°±å¯ä»¥ï¼Œå¦‚ï¼š
$ iperf3 -c 192.xxx.xxx.xxx -i 2 -R
">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://fun2ex.com/posts/"},{"@type":"ListItem","position":3,"name":"iperf å®½å¸¦æ€§èƒ½æµ‹è¯•å·¥å…·","item":"https://fun2ex.com/posts/iperf/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"iperf å®½å¸¦æ€§èƒ½æµ‹è¯•å·¥å…·","name":"iperf å®½å¸¦æ€§èƒ½æµ‹è¯•å·¥å…·","description":"è¿œç¨‹ä¸»æœºï¼ˆæœåŠ¡ç«¯ï¼‰ï¼šUbuntu 18.04 æœ¬åœ°ä¸»æœºï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼šMacï¼ˆå®‰è£…äº† HomeBrewï¼‰\nåŸå› ï¼šå› ä¸ºæˆ‘ä»¬çš„æœ¬åœ°æœºå™¨ä¸èƒ½è¢«å¤–ç½‘æœºå™¨è®¿é—®ï¼Œæ‰€ä»¥æœåŠ¡ç«¯åªèƒ½ç”±å¤–ç½‘æœºå™¨æ‰¿æ‹…ï¼Œä¸å½±å“æ€§èƒ½æµ‹è¯•ç»“æœã€‚\nå®‰è£… å®é™…ä¸Šå®‰è£…éå¸¸ç®€å•ï¼Œåªéœ€è¦é…ç½®å¥½ç¯å¢ƒå°±è¡Œã€‚\nUbuntu å®‰è£…ï¼š\n$ sudo apt install iperf3 Mac å®‰è£…ï¼š\n$ brew install iperf3 è¿™æ ·å°±å¥½äº†ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åªéœ€è¦é…ç½®ä¸åŒçš„å‚æ•°å°±è¡Œã€‚\nä½¿ç”¨ æœåŠ¡ç«¯ï¼š\n$ iperf3 -s -i 2 å®¢æˆ·ç«¯\n$ iperf3 -c 192.xxx.xxx.xxx -i 2 å¦‚æœè¦æµ‹è¯•ä¸Šä¼ é€Ÿåº¦ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯åœ¨æ‰§è¡Œçš„æ—¶å€™å¢åŠ  -R å°±å¯ä»¥ï¼Œå¦‚ï¼š\n$ iperf3 -c 192.xxx.xxx.xxx -i 2 -R ","keywords":["linux"],"articleBody":"è¿œç¨‹ä¸»æœºï¼ˆæœåŠ¡ç«¯ï¼‰ï¼šUbuntu 18.04 æœ¬åœ°ä¸»æœºï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼šMacï¼ˆå®‰è£…äº† HomeBrewï¼‰\nåŸå› ï¼šå› ä¸ºæˆ‘ä»¬çš„æœ¬åœ°æœºå™¨ä¸èƒ½è¢«å¤–ç½‘æœºå™¨è®¿é—®ï¼Œæ‰€ä»¥æœåŠ¡ç«¯åªèƒ½ç”±å¤–ç½‘æœºå™¨æ‰¿æ‹…ï¼Œä¸å½±å“æ€§èƒ½æµ‹è¯•ç»“æœã€‚\nå®‰è£… å®é™…ä¸Šå®‰è£…éå¸¸ç®€å•ï¼Œåªéœ€è¦é…ç½®å¥½ç¯å¢ƒå°±è¡Œã€‚\nUbuntu å®‰è£…ï¼š\n$ sudo apt install iperf3 Mac å®‰è£…ï¼š\n$ brew install iperf3 è¿™æ ·å°±å¥½äº†ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åªéœ€è¦é…ç½®ä¸åŒçš„å‚æ•°å°±è¡Œã€‚\nä½¿ç”¨ æœåŠ¡ç«¯ï¼š\n$ iperf3 -s -i 2 å®¢æˆ·ç«¯\n$ iperf3 -c 192.xxx.xxx.xxx -i 2 å¦‚æœè¦æµ‹è¯•ä¸Šä¼ é€Ÿåº¦ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯åœ¨æ‰§è¡Œçš„æ—¶å€™å¢åŠ  -R å°±å¯ä»¥ï¼Œå¦‚ï¼š\n$ iperf3 -c 192.xxx.xxx.xxx -i 2 -R å‚æ•°è¯´æ˜ é€šç”¨å‚æ•°ï¼š\n -p, â€”port [PORT]ï¼ŒServer ç«¯ç›‘å¬ã€Client ç«¯è¿æ¥çš„ç«¯å£å·ï¼› -f, â€”format [TYPE]ï¼ŒæŠ¥å‘Šä¸­æ‰€ç”¨çš„æ•°æ®å•ä½ï¼ŒKbits, Mbits, KBytes, Mbytesï¼› -i, â€”interval [TIME]ï¼Œæ¯æ¬¡æŠ¥å‘Šçš„é—´éš”ï¼Œå•ä½ä¸ºç§’ï¼› -F, â€”file [NAME]ï¼Œæµ‹è¯•æ‰€ç”¨æ–‡ä»¶çš„æ–‡ä»¶åã€‚å¦‚æœä½¿ç”¨åœ¨ Client ç«¯ï¼Œå‘é€è¯¥æ–‡ä»¶ç”¨ä½œæµ‹è¯•ï¼›å¦‚æœä½¿ç”¨åœ¨ Server ç«¯ï¼Œåˆ™æ˜¯å°†æ•°æ®å†™å…¥è¯¥æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ä¸¢å¼ƒï¼› -A, â€”affinity n/n,mï¼Œè®¾ç½® CPU äº²å’ŒåŠ›ï¼› -B, â€”bindï¼Œç»‘å®šæŒ‡å®šçš„ç½‘å¡æ¥å£ï¼› -V, â€”verboseï¼Œè¿è¡Œæ—¶è¾“å‡ºæ›´å¤šç»†èŠ‚ï¼› -J, â€”jsonï¼Œè¿è¡Œæ—¶ä»¥ JSON æ ¼å¼è¾“å‡ºç»“æœï¼› â€”logfile fï¼Œè¾“å‡ºåˆ°æ–‡ä»¶ï¼› -d, â€”debugï¼Œä»¥ debug æ¨¡å¼è¾“å‡ºç»“æœï¼› -v, â€”versionï¼Œæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡ºï¼› -h, â€”helpï¼Œæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯å¹¶é€€å‡ºã€‚  Server ç«¯å‚æ•°ï¼š\n -s, â€”serverï¼Œä»¥ Server æ¨¡å¼è¿è¡Œï¼› -D, â€”daemonï¼Œåœ¨åå°ä»¥å®ˆæŠ¤è¿›ç¨‹è¿è¡Œï¼› -I, â€”pidfile [FILE]ï¼ŒæŒ‡å®š pid æ–‡ä»¶ï¼› -1, â€”one-offï¼Œåªæ¥å— 1 æ¬¡æ¥è‡ª Client ç«¯çš„æµ‹è¯•ï¼Œç„¶åé€€å‡ºã€‚  Client ç«¯å‚æ•°ï¼š\n -c, â€”clientï¼Œä»¥ Client æ¨¡å¼è¿è¡Œï¼Œå¹¶æŒ‡å®š Server ç«¯çš„åœ°å€ï¼› -u, â€”udpï¼Œä»¥ UDP åè®®è¿›è¡Œæµ‹è¯•ï¼› -b, â€”bandwidth [TYPE]ï¼Œé™åˆ¶æµ‹è¯•å¸¦å®½ã€‚UDP é»˜è®¤ä¸º 1Mbit/ç§’ï¼ŒTCP é»˜è®¤æ— é™åˆ¶ï¼› -t, â€”time [TIME]ï¼Œä»¥æ—¶é—´ä¸ºæµ‹è¯•ç»“æŸæ¡ä»¶è¿›è¡Œæµ‹è¯•ï¼Œé»˜è®¤ä¸º 10 ç§’ï¼› -n, â€”bytes [TYPE]ï¼Œä»¥æ•°æ®ä¼ è¾“å¤§å°ä¸ºæµ‹è¯•ç»“æŸæ¡ä»¶è¿›è¡Œæµ‹è¯•ï¼› -k, â€”blockcount [TYPE]ï¼Œä»¥ä¼ è¾“æ•°æ®åŒ…æ•°é‡ä¸ºæµ‹è¯•ç»“æŸæ¡ä»¶è¿›è¡Œæµ‹è¯•ï¼› -l, â€”len [TYPE]ï¼Œè¯»å†™ç¼“å†²åŒºçš„é•¿åº¦ï¼ŒTCP é»˜è®¤ä¸º 128Kï¼ŒUDP é»˜è®¤ä¸º 8Kï¼› â€”cportï¼ŒæŒ‡å®š Client ç«¯è¿è¡Œæ‰€ä½¿ç”¨çš„ TCP æˆ– UDP ç«¯å£ï¼Œé»˜è®¤ä¸ºä¸´æ—¶ç«¯å£ï¼› -P, â€”parallel ï¼Œæµ‹è¯•æ•°æ®æµå¹¶å‘æ•°é‡ï¼› -R, â€”reverseï¼Œåå‘æ¨¡å¼è¿è¡Œï¼ˆServer ç«¯å‘é€ï¼ŒClient ç«¯æ¥æ”¶ï¼‰ï¼› -w, â€”window [TYPE]ï¼Œè®¾ç½®å¥—æ¥å­—ç¼“å†²åŒºå¤§å°ï¼ŒTCP æ¨¡å¼ä¸‹ä¸ºçª—å£å¤§å°ï¼› -C, â€”congestionï¼Œè®¾ç½® TCP æ‹¥å¡æ§åˆ¶ç®—æ³•ï¼ˆä»…æ”¯æŒ Linux å’Œ FreeBSD ï¼‰ï¼› -M, â€”set-mss ï¼Œè®¾ç½® TCP/SCTP æœ€å¤§åˆ†æ®µé•¿åº¦ï¼ˆMSSï¼ŒMTU å‡ 40 å­—èŠ‚ï¼‰ï¼› -N, â€”no-delayï¼Œè®¾ç½® TCP/SCTP no delayï¼Œå±è”½ Nagle ç®—æ³•ï¼› -4, â€”version4ï¼Œä»…ä½¿ç”¨ IPv4ï¼› -6, â€”version6ï¼Œä»…ä½¿ç”¨ IPv6ï¼› -S, â€”tos Nï¼Œè®¾ç½® IP æœåŠ¡ç±»å‹ï¼ˆTOSï¼ŒType Of Serviceï¼‰ï¼› -L, â€”flowlabel Nï¼Œè®¾ç½® IPv6 æµæ ‡ç­¾ï¼ˆä»…æ”¯æŒ Linuxï¼‰ï¼› -Z, â€”zerocopyï¼Œä½¿ç”¨ â€œzero copyâ€ï¼ˆé›¶æ‹·è´ï¼‰æ–¹æ³•å‘é€æ•°æ®ï¼› -O, â€”omit Nï¼Œå¿½ç•¥å‰ n ç§’çš„æµ‹è¯•ï¼› -T, â€”title strï¼Œè®¾ç½®æ¯è¡Œæµ‹è¯•ç»“æœçš„å‰ç¼€ï¼› â€”get-server-outputï¼Œä» Server ç«¯è·å–æµ‹è¯•ç»“æœï¼› â€”udp-counters-64bitï¼Œåœ¨ UDP æµ‹è¯•åŒ…ä¸­ä½¿ç”¨ 64 ä½è®¡æ•°å™¨ï¼ˆé˜²æ­¢è®¡æ•°å™¨æº¢å‡ºï¼‰  å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¸éœ€è¦æœ‰é‚£ä¹ˆå¤šçš„å‚æ•°ï¼Œéœ€è¦å°±è‡ªè¡ŒæŸ¥æ‰¾ä¸€ä¸‹ã€‚\nâ€”EOFâ€”\n å¼•ç”¨ï¼šhttps://docs.azure.cn/zh-cn/articles/azure-operations-guide/virtual-network/aog-virtual-network-iperf-bandwidth-test\n","wordCount":"229","inLanguage":"en","datePublished":"2019-01-06T18:09:38+08:00","dateModified":"2019-01-06T18:09:38+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://fun2ex.com/posts/iperf/"},"publisher":{"@type":"Organization","name":"è·¨å‡ºç•Œ","logo":{"@type":"ImageObject","url":"https://fun2ex.com/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://fun2ex.com accesskey=h title="è·¨å‡ºç•Œ (Alt + H)">è·¨å‡ºç•Œ</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://fun2ex.com/archives/ title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://fun2ex.com/game/ title=Game>
<span>Game</span>
</a>
</li>
<li>
<a href=https://fun2ex.com/diving/ title=Diving>
<span>Diving</span>
</a>
</li>
<li>
<a href=https://fun2ex.com/music/ title=Music>
<span>Music</span>
</a>
</li>
<li>
<a href=https://fun2ex.com/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://fun2ex.com>Home</a>&nbsp;Â»&nbsp;<a href=https://fun2ex.com/posts/>Posts</a></div>
<h1 class=post-title>
iperf å®½å¸¦æ€§èƒ½æµ‹è¯•å·¥å…·
</h1>
<div class=post-meta><span title="2019-01-06 18:09:38 +0800 +0800">January 6, 2019</span>
</div>
</header>
<div class=post-content><p>è¿œç¨‹ä¸»æœºï¼ˆæœåŠ¡ç«¯ï¼‰ï¼šUbuntu 18.04
æœ¬åœ°ä¸»æœºï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼šMacï¼ˆå®‰è£…äº† <a href=https://brew.sh/>HomeBrew</a>ï¼‰</p>
<p>åŸå› ï¼šå› ä¸ºæˆ‘ä»¬çš„æœ¬åœ°æœºå™¨ä¸èƒ½è¢«å¤–ç½‘æœºå™¨è®¿é—®ï¼Œæ‰€ä»¥æœåŠ¡ç«¯åªèƒ½ç”±å¤–ç½‘æœºå™¨æ‰¿æ‹…ï¼Œä¸å½±å“æ€§èƒ½æµ‹è¯•ç»“æœã€‚</p>
<h2 id=å®‰è£…>å®‰è£…<a hidden class=anchor aria-hidden=true href=#å®‰è£…>#</a></h2>
<p>å®é™…ä¸Šå®‰è£…éå¸¸ç®€å•ï¼Œåªéœ€è¦é…ç½®å¥½ç¯å¢ƒå°±è¡Œã€‚</p>
<p>Ubuntu å®‰è£…ï¼š</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo apt install iperf3
</code></pre></div><p>Mac å®‰è£…ï¼š</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ brew install iperf3
</code></pre></div><p>è¿™æ ·å°±å¥½äº†ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åªéœ€è¦é…ç½®ä¸åŒçš„å‚æ•°å°±è¡Œã€‚</p>
<h2 id=ä½¿ç”¨>ä½¿ç”¨<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨>#</a></h2>
<p>æœåŠ¡ç«¯ï¼š</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ iperf3 -s -i <span style=color:#ae81ff>2</span>
</code></pre></div><p>å®¢æˆ·ç«¯</p>
<pre tabindex=0><code>$ iperf3 -c 192.xxx.xxx.xxx -i 2
</code></pre><p>å¦‚æœè¦æµ‹è¯•ä¸Šä¼ é€Ÿåº¦ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯åœ¨æ‰§è¡Œçš„æ—¶å€™å¢åŠ  <code>-R</code> å°±å¯ä»¥ï¼Œå¦‚ï¼š</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ iperf3 -c 192.xxx.xxx.xxx -i <span style=color:#ae81ff>2</span> -R
</code></pre></div><h2 id=å‚æ•°è¯´æ˜>å‚æ•°è¯´æ˜<a hidden class=anchor aria-hidden=true href=#å‚æ•°è¯´æ˜>#</a></h2>
<p><em>é€šç”¨å‚æ•°</em>ï¼š</p>
<ul>
<li>-p, â€”port [PORT]ï¼ŒServer ç«¯ç›‘å¬ã€Client ç«¯è¿æ¥çš„ç«¯å£å·ï¼›</li>
<li>-f, â€”format [TYPE]ï¼ŒæŠ¥å‘Šä¸­æ‰€ç”¨çš„æ•°æ®å•ä½ï¼ŒKbits, Mbits, KBytes, Mbytesï¼›</li>
<li>-i, â€”interval [TIME]ï¼Œæ¯æ¬¡æŠ¥å‘Šçš„é—´éš”ï¼Œå•ä½ä¸ºç§’ï¼›</li>
<li>-F, â€”file [NAME]ï¼Œæµ‹è¯•æ‰€ç”¨æ–‡ä»¶çš„æ–‡ä»¶åã€‚å¦‚æœä½¿ç”¨åœ¨ Client ç«¯ï¼Œå‘é€è¯¥æ–‡ä»¶ç”¨ä½œæµ‹è¯•ï¼›å¦‚æœä½¿ç”¨åœ¨ Server ç«¯ï¼Œåˆ™æ˜¯å°†æ•°æ®å†™å…¥è¯¥æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ä¸¢å¼ƒï¼›</li>
<li>-A, â€”affinity n/n,mï¼Œè®¾ç½® CPU äº²å’ŒåŠ›ï¼›</li>
<li>-B, â€”bindï¼Œç»‘å®šæŒ‡å®šçš„ç½‘å¡æ¥å£ï¼›</li>
<li>-V, â€”verboseï¼Œè¿è¡Œæ—¶è¾“å‡ºæ›´å¤šç»†èŠ‚ï¼›</li>
<li>-J, â€”jsonï¼Œè¿è¡Œæ—¶ä»¥ JSON æ ¼å¼è¾“å‡ºç»“æœï¼›</li>
<li>â€”logfile fï¼Œè¾“å‡ºåˆ°æ–‡ä»¶ï¼›</li>
<li>-d, â€”debugï¼Œä»¥ debug æ¨¡å¼è¾“å‡ºç»“æœï¼›</li>
<li>-v, â€”versionï¼Œæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡ºï¼›</li>
<li>-h, â€”helpï¼Œæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯å¹¶é€€å‡ºã€‚</li>
</ul>
<p><em>Server ç«¯å‚æ•°ï¼š</em></p>
<ul>
<li>-s, â€”serverï¼Œä»¥ Server æ¨¡å¼è¿è¡Œï¼›</li>
<li>-D, â€”daemonï¼Œåœ¨åå°ä»¥å®ˆæŠ¤è¿›ç¨‹è¿è¡Œï¼›</li>
<li>-I, â€”pidfile [FILE]ï¼ŒæŒ‡å®š pid æ–‡ä»¶ï¼›</li>
<li>-1, â€”one-offï¼Œåªæ¥å— 1 æ¬¡æ¥è‡ª Client ç«¯çš„æµ‹è¯•ï¼Œç„¶åé€€å‡ºã€‚</li>
</ul>
<p><em>Client ç«¯å‚æ•°ï¼š</em></p>
<ul>
<li>-c, â€”clientï¼Œä»¥ Client æ¨¡å¼è¿è¡Œï¼Œå¹¶æŒ‡å®š Server ç«¯çš„åœ°å€ï¼›</li>
<li>-u, â€”udpï¼Œä»¥ UDP åè®®è¿›è¡Œæµ‹è¯•ï¼›</li>
<li>-b, â€”bandwidth [TYPE]ï¼Œé™åˆ¶æµ‹è¯•å¸¦å®½ã€‚UDP é»˜è®¤ä¸º 1Mbit/ç§’ï¼ŒTCP é»˜è®¤æ— é™åˆ¶ï¼›</li>
<li>-t, â€”time [TIME]ï¼Œä»¥æ—¶é—´ä¸ºæµ‹è¯•ç»“æŸæ¡ä»¶è¿›è¡Œæµ‹è¯•ï¼Œé»˜è®¤ä¸º 10 ç§’ï¼›</li>
<li>-n, â€”bytes [TYPE]ï¼Œä»¥æ•°æ®ä¼ è¾“å¤§å°ä¸ºæµ‹è¯•ç»“æŸæ¡ä»¶è¿›è¡Œæµ‹è¯•ï¼›</li>
<li>-k, â€”blockcount [TYPE]ï¼Œä»¥ä¼ è¾“æ•°æ®åŒ…æ•°é‡ä¸ºæµ‹è¯•ç»“æŸæ¡ä»¶è¿›è¡Œæµ‹è¯•ï¼›</li>
<li>-l, â€”len [TYPE]ï¼Œè¯»å†™ç¼“å†²åŒºçš„é•¿åº¦ï¼ŒTCP é»˜è®¤ä¸º 128Kï¼ŒUDP é»˜è®¤ä¸º 8Kï¼›</li>
<li>â€”cportï¼ŒæŒ‡å®š Client ç«¯è¿è¡Œæ‰€ä½¿ç”¨çš„ TCP æˆ– UDP ç«¯å£ï¼Œé»˜è®¤ä¸ºä¸´æ—¶ç«¯å£ï¼›</li>
<li>-P, â€”parallel ï¼Œæµ‹è¯•æ•°æ®æµå¹¶å‘æ•°é‡ï¼›</li>
<li>-R, â€”reverseï¼Œåå‘æ¨¡å¼è¿è¡Œï¼ˆServer ç«¯å‘é€ï¼ŒClient ç«¯æ¥æ”¶ï¼‰ï¼›</li>
<li>-w, â€”window [TYPE]ï¼Œè®¾ç½®å¥—æ¥å­—ç¼“å†²åŒºå¤§å°ï¼ŒTCP æ¨¡å¼ä¸‹ä¸ºçª—å£å¤§å°ï¼›</li>
<li>-C, â€”congestionï¼Œè®¾ç½® TCP æ‹¥å¡æ§åˆ¶ç®—æ³•ï¼ˆä»…æ”¯æŒ Linux å’Œ FreeBSD ï¼‰ï¼›</li>
<li>-M, â€”set-mss ï¼Œè®¾ç½® TCP/SCTP æœ€å¤§åˆ†æ®µé•¿åº¦ï¼ˆMSSï¼ŒMTU å‡ 40 å­—èŠ‚ï¼‰ï¼›</li>
<li>-N, â€”no-delayï¼Œè®¾ç½® TCP/SCTP no delayï¼Œå±è”½ Nagle ç®—æ³•ï¼›</li>
<li>-4, â€”version4ï¼Œä»…ä½¿ç”¨ IPv4ï¼›</li>
<li>-6, â€”version6ï¼Œä»…ä½¿ç”¨ IPv6ï¼›</li>
<li>-S, â€”tos Nï¼Œè®¾ç½® IP æœåŠ¡ç±»å‹ï¼ˆTOSï¼ŒType Of Serviceï¼‰ï¼›</li>
<li>-L, â€”flowlabel Nï¼Œè®¾ç½® IPv6 æµæ ‡ç­¾ï¼ˆä»…æ”¯æŒ Linuxï¼‰ï¼›</li>
<li>-Z, â€”zerocopyï¼Œä½¿ç”¨ â€œzero copyâ€ï¼ˆé›¶æ‹·è´ï¼‰æ–¹æ³•å‘é€æ•°æ®ï¼›</li>
<li>-O, â€”omit Nï¼Œå¿½ç•¥å‰ n ç§’çš„æµ‹è¯•ï¼›</li>
<li>-T, â€”title strï¼Œè®¾ç½®æ¯è¡Œæµ‹è¯•ç»“æœçš„å‰ç¼€ï¼›</li>
<li>â€”get-server-outputï¼Œä» Server ç«¯è·å–æµ‹è¯•ç»“æœï¼›</li>
<li>â€”udp-counters-64bitï¼Œåœ¨ UDP æµ‹è¯•åŒ…ä¸­ä½¿ç”¨ 64 ä½è®¡æ•°å™¨ï¼ˆé˜²æ­¢è®¡æ•°å™¨æº¢å‡ºï¼‰</li>
</ul>
<p>å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¸éœ€è¦æœ‰é‚£ä¹ˆå¤šçš„å‚æ•°ï¼Œéœ€è¦å°±è‡ªè¡ŒæŸ¥æ‰¾ä¸€ä¸‹ã€‚</p>
<p>â€”EOFâ€”</p>
<blockquote>
<p>å¼•ç”¨ï¼šhttps://docs.azure.cn/zh-cn/articles/azure-operations-guide/virtual-network/aog-virtual-network-iperf-bandwidth-test</p>
</blockquote>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://fun2ex.com/tags/linux/>linux</a></li>
</ul>
<nav class=paginav>
<a class=prev href=https://fun2ex.com/posts/how-to-fixed-vscode-iview-x-invalid-end-tag-error/>
<span class=title>Â« Prev Page</span>
<br>
<span>How to fixed VS-code iView x-invalid-end-tag error</span>
</a>
<a class=next href=https://fun2ex.com/posts/merlin-enable-the-entware/>
<span class=title>Next Page Â»</span>
<br>
<span>æ¢…æ—ï¼ˆMerlinï¼‰å¼€å¯ Entware</span>
</a>
</nav>
</footer><script src=https://utteranc.es/client.js repo=nikejaycn/nikejaycn.github.io issue-term=pathname label=âœ¨ğŸ’¬âœ¨ theme=photon-dark crossorigin=anonymous async></script>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://fun2ex.com>è·¨å‡ºç•Œ</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
<div class=beian>
<a target=_blank href=https://beian.miit.gov.cn/>ç²¤ICPå¤‡18115339å·-1</a>
</div>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script></body>
</html>